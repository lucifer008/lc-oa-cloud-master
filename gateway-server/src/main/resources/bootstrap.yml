spring:
  profiles:
    active: dev
  application:
    name: gateway-service

---

spring:
  profiles: dev
  cloud:
    nacos:
      config:
        group: DEFAULT_GROUP
        name: ${spring.application.name}
        namespace: dev002
        extensionConfigs:
          - data-id: eureka.properties
            group: DEFAULT_GROUP
            refresh: false
        file-extension: yml
      server-addr: 182.92.221.157:9010
---
spring:
  profiles: test
  cloud:
    nacos:
      config:
        group: DEFAULT_GROUP
        name: ${spring.application.name}
        namespace: public
        # 高版本支持
        extensionConfigs:
          - data-id: eureka.properties
            group: DEFAULT_GROUP
            refresh: false
      server-addr: 182.92.221.157:9010
---
#eureka 负载配置,此部分可以配置到nacos中
spring:
  cloud:
    gateway:
      discovery:
        locator:
          enabled: false
          lower-case-service-id: true
      routes:
      - id: LC.APPLAYERSERVICE2
        #注册中心id
        uri: lb://LC.APPLAYERSERVICE
        predicates:
          - Path=/lc.applayerservice2/**
        #转发去掉lc.applayerservice2 前缀
        filters:
          - StripPrefix=1
          #熔断处理
          - name: Hystrix
            args:
              name: fallbackCmdA
              fallbackUri: forward:/fallbackA
hystrix.command.fallbackCmdA.execution.isolation.thread.timeoutInMilliseconds: 5000